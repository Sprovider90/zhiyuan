(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6bfc792"],{"0409":function(t,n,e){"use strict";var a=e("197b"),o=e.n(a);o.a},"197b":function(t,n,e){},"21f8":function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"box"}},[e("div",{staticClass:"box-flex"},[e("div",{staticClass:"box-border box-width"},[e("div",{staticClass:"item-title"},[t._v("订单信息")]),t._v(" "),e("ul",{staticClass:"info-list"},[e("li",[e("span",[t._v("订单编号")]),t._v(" "),e("span",[t._v(t._s(t.orderInfo.order_number))])]),t._v(" "),e("li",[e("span",[t._v("客户名称")]),t._v(" "),e("span",[t._v(t._s(t.orderInfo.customs.company_name))])]),t._v(" "),e("li",[e("span",[t._v("创建时间")]),t._v(" "),e("span",[t._v(t._s(t.orderInfo.created_at))])]),t._v(" "),e("li",[e("span",[t._v("订单金额")]),t._v(" "),e("span",[t._v(t._s(t._f("formatPrice")(t.orderInfo.money)))])]),t._v(" "),e("li",[e("span",[t._v("订单状态")]),t._v(" "),e("span",{class:"color"+t.orderInfo.order_status},[t._v(t._s(t.publicObj.orderStatus[t.orderInfo.order_status]))])])])])]),t._v(" "),e("div",{staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"box-border"},[e("div",{staticClass:"title"},[t._v("收退款详情")]),t._v(" "),e("div",{staticClass:"table-list"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.financialLog,border:"",fit:""}},[e("el-table-column",{attrs:{label:"事件",align:"left"},scopedSlots:t._u([{key:"default",fn:function(n){return[t._v("\n                  "+t._s(1===n.row.type?"收款":"退款")+"\n                ")]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"收付款方式",align:"left"},scopedSlots:t._u([{key:"default",fn:function(n){return[t._v("\n                  "+t._s(t.publicObj.payType[n.row.pay_type])+"\n                ")]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"updated_at",label:"操作日期",align:"left"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作人",align:"left"},scopedSlots:t._u([{key:"default",fn:function(n){return[t._v("\n                  "+t._s(n.row.user&&n.row.user.truename)+"\n                ")]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"price",label:"收付款金额",align:"left"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",[t._v(t._s(t._f("formatPrice")(n.row.money)))])]}}])})],1),t._v(" "),e("div",{staticClass:"pagination"},[e("myPagination",{attrs:{pageInfo:t.pageInfo},on:{"current-change":t.pageChange}})],1)],1)])])])},o=[],i=e("de9f"),r=e("b775"),s={name:"financialDetail",components:{myPagination:i["a"]},data:function(){return{orderId:"",orderInfo:{customs:{}},pageInfo:{total:0,pageSize:20,currentPage:1},financialLog:[]}},created:function(){this.orderId=this.$route.params.id,this.getOrderInfo(),this.getFinanciLog()},methods:{getOrderInfo:function(){var t=this;Object(r["a"])(this.ajaxUrl.financialInfo+this.orderId,{},"get").then((function(n){t.orderInfo=n})).catch((function(t){console.log(t)}))},getFinanciLog:function(){var t=this;Object(r["a"])(this.ajaxUrl.financialLog+this.orderId+"/financeLog",{page:this.pageInfo.currentPage,pageSize:this.pageInfo.pageSize},"get").then((function(n){t.financialLog=n.data,t.pageInfo.total=n.total})).catch((function(t){console.log(t)}))},handleSubmit:function(){var t=this;this.$refs["warehouseForm"].validate((function(n){if(console.log(n),!n)return console.log("error submit!!"),!1;t.isEdit?console.log("编辑"):console.log("提交")}))},indexMethod:function(t){return 2*t},pageChange:function(t){this.pageInfo.currentPage=t,this.getFinanciLog()}}},l=s,c=(e("0409"),e("9ca4")),u=Object(c["a"])(l,a,o,!1,null,"b5e051f6",null);n["default"]=u.exports},"572a":function(t,n,e){},6736:function(t,n,e){"use strict";var a=e("572a"),o=e.n(a);o.a},de9f:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"myPagination"},[e("div",{staticClass:"total"},[t._v("\n        共"+t._s(t.pageInfo.total)+"条数据，"+t._s(Math.ceil(t.pageInfo.total/t.pageInfo.pageSize))+"页\n    ")]),t._v(" "),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageInfo.pageSize,"current-page":t.pageInfo.currentPage,total:t.pageInfo.total},on:{"current-change":t.handleCurrentChange}})],1)},o=[],i={name:"myPagination",props:["pageInfo"],data:function(){return{}},created:function(){},methods:{handleCurrentChange:function(t){this.$emit("current-change",t)}}},r=i,s=(e("6736"),e("9ca4")),l=Object(s["a"])(r,a,o,!1,null,"dabd56de",null);n["a"]=l.exports}}]);