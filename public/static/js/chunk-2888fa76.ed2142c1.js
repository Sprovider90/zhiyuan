(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2888fa76"],{"572a":function(e,t,a){},6736:function(e,t,a){"use strict";var n=a("572a"),s=a.n(n);s.a},ceaa:function(e,t,a){},dbe3:function(e,t,a){"use strict";var n=a("ceaa"),s=a.n(n);s.a},de9f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myPagination"},[a("div",{staticClass:"total"},[e._v("\n        共"+e._s(e.pageInfo.total)+"条数据，"+e._s(Math.ceil(e.pageInfo.total/e.pageInfo.pageSize))+"页\n    ")]),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pageInfo.pageSize,"current-page":e.pageInfo.currentPage,total:e.pageInfo.total},on:{"current-change":e.handleCurrentChange}})],1)},s=[],l={name:"myPagination",props:["pageInfo"],data:function(){return{}},created:function(){},methods:{handleCurrentChange:function(e){this.$emit("current-change",e)}}},o=l,i=(a("6736"),a("9ca4")),c=Object(i["a"])(o,n,s,!1,null,"dabd56de",null);t["a"]=c.exports},dee5:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"msgCenter mainPage"},[a("div",{staticClass:"msg-search"},[a("div",{staticClass:"filterBox"},[a("div",{staticClass:"filterItem"},[a("span",[e._v("消息类型")]),e._v(" "),a("el-select",{attrs:{clearable:"",size:"small",placeholder:"请选择消息类型"},on:{change:e.handleChange},model:{value:e.searchInfo.type,callback:function(t){e.$set(e.searchInfo,"type",t)},expression:"searchInfo.type"}},e._l(e.filterTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])]),e._v(" "),a("div",{staticClass:"tableContent content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableContent,border:""}},[a("el-table-column",{attrs:{"header-align":"left",prop:"id",width:"80",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"left",prop:"type",width:"200",label:"消息类型"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"left",prop:"content",label:"消息内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:1===t.row.is_read?"":"noRead"},[e._v(e._s(t.row.content))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"left",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"btnRole",rawName:"v-btnRole",value:2,expression:"2"}],attrs:{type:"text"},on:{click:function(a){return e.handleDelMsg(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("myPagination",{attrs:{pageInfo:e.pageInfo},on:{"current-change":e.pageChange}})],1)])},s=[],l=a("de9f"),o=a("b775"),i={name:"msgCenter",components:{myPagination:l["a"]},data:function(){return{searchInfo:{type:""},pageInfo:{total:0,pageSize:20,currentPage:1},filterTypeList:[{label:"系统消息",value:1},{label:"预警消息",value:2}],tableContent:[]}},created:function(){this.getMessageList()},methods:{handleChange:function(e){this.pageInfo.currentPage=1,this.getMessageList()},getMessageList:function(){var e=this;Object(o["a"])(this.ajaxUrl.messageList,{type:this.searchInfo.type,page:this.pageInfo.currentPage,pageSize:this.pageInfo.pageSize},"get").then((function(t){e.tableContent=t.data,e.pageInfo.total=t.meta.total})).catch((function(e){console.log(e)}))},handleDelMsg:function(e){var t=this;this.$confirm("确定删除此消息，删除后不可恢复","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["a"])(t.ajaxUrl.delMessage+e.id,{},"DELETE").then((function(e){t.$message.success("删除成功"),t.getMessageList()})).catch((function(e){console.log(e)}))})).catch((function(){}))},pageChange:function(e){this.pageInfo.currentPage=e,this.getMessageList()}}},c=i,r=(a("dbe3"),a("9ca4")),u=Object(r["a"])(c,n,s,!1,null,"1ddd4f63",null);t["default"]=u.exports}}]);