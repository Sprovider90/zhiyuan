(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e24d308"],{"30b8":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"uploadFileBtn"},[a("el-upload",{ref:"uploadBtn",staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","http-request":e.handleUpload,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,limit:1,"on-exceed":e.handleExceed}},[a("el-button",{attrs:{size:"small"}},[e._v(e._s(e.btn))])],1)],1)},o=[],s=(a("3de1"),a("7f43")),i=a.n(s),l={name:"uploadFileBtn",props:["btn","url"],data:function(){return{fileList:[]}},methods:{handleUpload:function(e){var t=this,a=new FormData;a.append("file",e.file),i.a.post(this.url,a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+sessionStorage.getItem("token")}}).then((function(e){t.$emit("afterUpload",e),t.$refs.uploadBtn.clearFiles()})).catch((function(e){console.log(e.response),t.$message.warning(e.response.data.message),t.$refs.uploadBtn.clearFiles()}))},handlePreview:function(){console.log(file)},handleRemove:function(){},beforeRemove:function(){},handleExceed:function(){}}},r=l,c=(a("a248"),a("9ca4")),u=Object(c["a"])(r,n,o,!1,null,null,null);t["a"]=u.exports},3100:function(e,t,a){},"572a":function(e,t,a){},6736:function(e,t,a){"use strict";var n=a("572a"),o=a.n(n);o.a},"7c57":function(e,t,a){"use strict";var n=a("966f"),o=a.n(n);o.a},"966f":function(e,t,a){},a248:function(e,t,a){"use strict";var n=a("3100"),o=a.n(n);o.a},de9f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myPagination"},[a("div",{staticClass:"total"},[e._v("\n        共"+e._s(e.pageInfo.total)+"条数据，"+e._s(Math.ceil(e.pageInfo.total/e.pageInfo.pageSize))+"页\n    ")]),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pageInfo.pageSize,"current-page":e.pageInfo.currentPage,total:e.pageInfo.total},on:{"current-change":e.handleCurrentChange}})],1)},o=[],s={name:"myPagination",props:["pageInfo"],data:function(){return{}},created:function(){},methods:{handleCurrentChange:function(e){this.$emit("current-change",e)}}},i=s,l=(a("6736"),a("9ca4")),r=Object(l["a"])(i,n,o,!1,null,"dabd56de",null);t["a"]=r.exports},f836:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"assessmentSet"},[a("div",{staticClass:"title"},[e._v("项目名称："+e._s(e.project_name))]),e._v(" "),a("div",{staticClass:"btn-box"},[a("uploadFileBtn",{attrs:{btn:"导入预评估设置",url:e.ajaxUrl.importAssessment+e.id+"/import"},on:{afterUpload:e.afterUpload}}),e._v(" "),a("a",{attrs:{href:"http://47.93.41.147"+e.ajaxUrl.downloadAssessmengt,download:"导入模板"}},[a("el-button",{attrs:{size:"small"}},[e._v("下载导入模板")])],1)],1),e._v(" "),a("div",{staticClass:"tableContent"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableContent,border:""}},[a("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"hcho",label:"甲醛"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"tvoc",label:"TOVC"}})],1),e._v(" "),a("myPagination",{attrs:{pageInfo:e.pageInfo},on:{"current-change":e.pageChange}})],1)])},o=[],s=(a("cc57"),a("de9f")),i=a("30b8"),l=a("b775"),r={name:"assessmentSet",data:function(){return{tableContent:[],pageInfo:{total:0,pageSize:20,currentPage:1},id:"",project_name:""}},created:function(){this.id=this.$route.params.id,this.project_name=this.$route.query.name,this.getDetail()},methods:{afterUpload:function(e){this.$message.success("导入成功"),this.pageInfo.currentPage=1,this.getDetail()},getDetail:function(){var e=this;Object(l["a"])(this.ajaxUrl.assessmentDetail+this.id,{pageSize:this.pageInfo.pageSize,page:this.pageInfo.currentPage},"get").then((function(t){e.tableContent=t.data,e.pageInfo.total=t.total})).catch((function(e){console.log(e)}))},pageChange:function(e){this.pageInfo.currentPage=e,this.getDetail()}},components:{myPagination:s["a"],uploadFileBtn:i["a"]}},c=r,u=(a("7c57"),a("9ca4")),p=Object(u["a"])(c,n,o,!1,null,"259dc4a7",null);t["default"]=p.exports}}]);