(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ffad1dc"],{"361f":function(t,e,a){"use strict";var o=a("da6c"),n=a.n(o);n.a},"4d41":function(t,e){t.exports="data:image/png;base64,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"},"572a":function(t,e,a){},6736:function(t,e,a){"use strict";var o=a("572a"),n=a.n(o);n.a},da6c:function(t,e,a){},de9f:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myPagination"},[a("div",{staticClass:"total"},[t._v("\n        共"+t._s(t.pageInfo.total)+"条数据，"+t._s(Math.ceil(t.pageInfo.total/t.pageInfo.pageSize))+"页\n    ")]),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageInfo.pageSize,"current-page":t.pageInfo.currentPage,total:t.pageInfo.total},on:{"current-change":t.handleCurrentChange}})],1)},n=[],s={name:"myPagination",props:["pageInfo"],data:function(){return{}},created:function(){},methods:{handleCurrentChange:function(t){this.$emit("current-change",t)}}},r=s,l=(a("6736"),a("9ca4")),c=Object(l["a"])(r,o,n,!1,null,"dabd56de",null);e["a"]=c.exports},e16d:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("router-view"),t._v(" "),t.listShow?[a("div",{staticClass:"head-left"},[a("div",{staticClass:"block"},[a("div",{staticClass:"member-acount"},[a("p",{staticClass:"font-color"},[t._v("客户数量")]),t._v(" "),a("p",{staticClass:"number"},[a("span",[t._v(t._s(t.pageInfo.total))]),t._v("个")])]),t._v(" "),a("div",{staticClass:"images"},[a("el-image",{staticClass:"header",attrs:{src:t.src}})],1)]),t._v(" "),a("div",{staticClass:"box-input"},[a("el-form",{attrs:{model:t.searchInfo,inline:!0}},[a("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"name",label:"公司名称"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:t.searchInfo.name,callback:function(e){t.$set(t.searchInfo,"name","string"===typeof e?e.trim():e)},expression:"searchInfo.name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"contact",label:"联系人"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:t.searchInfo.contact,callback:function(e){t.$set(t.searchInfo,"contact","string"===typeof e?e.trim():e)},expression:"searchInfo.contact"}})],1)],1),t._v(" "),a("el-button",{staticClass:"minWidth",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.handleSearch()}}},[t._v("查 询")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){return t.handleResize()}}},[t._v("重置查询条件")])],1)]),t._v(" "),a("div",{staticClass:"box-card"},[a("div",{staticClass:"btns"},[a("el-button",{directives:[{name:"btnRole",rawName:"v-btnRole",value:14,expression:"14"}],attrs:{size:"small",type:"primary"},on:{click:function(e){return t.handleCreate(2)}}},[t._v("新增客户")])],1),t._v(" "),a("el-table",{staticClass:"border-table",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.memberList,fit:""}},[a("el-table-column",{attrs:{type:"index",label:"编号",index:t.indexMethod,width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"公司名称",width:"200","header-align":"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"white-space":"nowrap"},attrs:{title:e.row.company_name}},[t._v("\n                            "+t._s(e.row.company_name)+"\n                        ")])]}}],null,!1,3005768148)}),t._v(" "),a("el-table-column",{attrs:{prop:"company_addr",label:"公司简称",width:"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"white-space":"nowrap"},attrs:{title:e.row.company_addr}},[t._v("\n                            "+t._s(e.row.company_addr)+"\n                        ")])]}}],null,!1,3494903124)}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"客户类型",align:"left",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t.returnCustomType(e.row.type)||"未知")+"\n                        ")]}}],null,!1,2000867658)}),t._v(" "),a("el-table-column",{attrs:{label:"联系人",align:"left",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.contacts[0]&&e.row.contacts[0].contact)+"\n                    ")]}}],null,!1,411180627)}),t._v(" "),a("el-table-column",{attrs:{label:"职务",align:"left",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.contacts[0]&&e.row.contacts[0].job)+"\n                    ")]}}],null,!1,2316638836)}),t._v(" "),a("el-table-column",{attrs:{label:"联系电话",align:"left",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.contacts[0]&&e.row.contacts[0].contact_phone)+"\n                    ")]}}],null,!1,923624208)}),t._v(" "),a("el-table-column",{attrs:{prop:"project_count",label:"项目数量",align:"left",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"position_count",label:"监测点数量",align:"left",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"btnRole",rawName:"v-btnRole",value:15,expression:"15"}],attrs:{type:"text"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{directives:[{name:"btnRole",rawName:"v-btnRole",value:16,expression:"16"}],attrs:{type:"text"},on:{click:function(a){return t.$router.push({name:"memberDetail",params:{id:e.row.id}})}}},[t._v("查看")])]}}],null,!1,1244138514)})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("myPagination",{attrs:{pageInfo:t.pageInfo},on:{"current-change":t.pageChange}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:(t.editId?"编辑":"新增")+"客户信息",visible:t.dialogShow,"before-close":t.handleClose,"close-on-click-modal":!1,width:"700px"},on:{"update:visible":function(e){t.dialogShow=e}}},[a("el-form",{ref:"warehouseForm",staticClass:"warehouseForm",attrs:{model:t.formData,rules:t.rules,"label-position":"top","label-width":"100px"}},[a("el-form-item",{attrs:{label:"公司名称",prop:"company_name"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写公司名称"},model:{value:t.formData.company_name,callback:function(e){t.$set(t.formData,"company_name",e)},expression:"formData.company_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"margin-50",attrs:{label:"公司简称",prop:"company_addr"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写公司简称"},model:{value:t.formData.company_addr,callback:function(e){t.$set(t.formData,"company_addr",e)},expression:"formData.company_addr"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"客户类型",prop:"type"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择客户类型"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},t._l(t.customType,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{staticClass:"margin-50",attrs:{label:"公司地址",prop:"address"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写公司地址"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-right":"500px"},attrs:{label:"系统LOGO"}},[a("div",{staticClass:"upload-logo-box"},[a("uploadImg",{attrs:{imgUrl:t.formData.logo_path},on:{afterUpload:t.afterUpload,afterRemove:t.afterRemove}})],1)]),t._v(" "),t._l(t.formData.contacts,(function(e,o){return a("div",{key:o,staticClass:"contact"},[a("div",{staticClass:"contact-item"},[a("el-form-item",{staticClass:"input-width",attrs:{label:"联系人",prop:"contacts."+o+".contact",rules:{required:!0,message:"请填写联系人姓名",trigger:"blur"}}},[a("el-input",{attrs:{size:"small",placeholder:"请填写联系人姓名"},model:{value:t.formData.contacts[o].contact,callback:function(e){t.$set(t.formData.contacts[o],"contact",e)},expression:"formData.contacts[index].contact"}})],1)],1),t._v(" "),a("div",{staticClass:"contact-item"},[a("el-form-item",{staticClass:"margin-20 input-width",attrs:{label:"联系电话",prop:"contacts."+o+".contact_phone",rules:{required:!0,message:"请填写联系电话",trigger:"blur"}}},[a("el-input",{attrs:{size:"small",maxlength:"11",placeholder:"请填写联系电话"},model:{value:t.formData.contacts[o].contact_phone,callback:function(e){t.$set(t.formData.contacts[o],"contact_phone",e)},expression:"formData.contacts[index].contact_phone"}})],1)],1),t._v(" "),a("div",{staticClass:"contact-item"},[a("el-form-item",{staticClass:"margin-20 input-width",attrs:{label:"职务",prop:"job"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写职务"},model:{value:t.formData.contacts[o].job,callback:function(e){t.$set(t.formData.contacts[o],"job",e)},expression:"formData.contacts[index].job"}})],1)],1),t._v(" "),0!==o?a("el-button",{staticClass:"delt-contact",attrs:{size:"small"},on:{click:function(e){return t.handleDelContact(o)}}},[t._v("删除")]):t._e()],1)})),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"button",attrs:{size:"small",type:"primary"},on:{click:t.addContact}},[t._v("添加")])],1),t._v(" "),a("el-form-item",{staticClass:"remarks",attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{type:"textarea","show-word-limit":!0,maxlength:"100",rows:"4",resize:"none",placeholder:"不超过100个字"},model:{value:t.formData.memo,callback:function(e){t.$set(t.formData,"memo",e)},expression:"formData.memo"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small"},on:{click:t.handleCancel}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleSubmit}},[t._v("提交")])],1)],2)],1)]:t._e()],2)},n=[],s=(a("5ab2"),a("6d57"),a("e10e"),a("200d")),r=(a("cc57"),a("de9f")),l=a("b775"),c=a("82e5"),i=a("4d41"),m=a.n(i);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"memberList",components:{myPagination:r["a"],uploadImg:c["a"]},data:function(){return{listShow:!1,fileList:[],memberList:[],searchInfo:{name:"",contact:""},editId:0,dialogShow:!1,src:m.a,pageInfo:{total:50,pageSize:10,currentPage:1},customType:[],formData:{company_name:"",company_addr:"",logo_path:"",logo:"",type:"",email:"",address:"",memo:"",contacts:[{contact:"",contact_phone:"",job:""}]},rules:{company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],type:[{required:!0,message:"请选择客户类型",trigger:"blur"}]}}},created:function(){this.customType=this.$store.getters.dictionary.filter((function(t){return"kehuleixin"===t.nameflag}))[0].value,"memberList"===this.$route.name?(this.listShow=!0,this.getCustomsList()):this.listShow=!1},methods:{indexMethod:function(t){return(this.pageInfo.currentPage-1)*this.pageInfo.pageSize+t+1},returnCustomType:function(t){var e=this.customType.filter((function(e){return e.id===t}))[0];return e&&e.name},afterUpload:function(t,e){this.formData.logo_path=t.path,this.formData.logo=t.id},afterRemove:function(t){this.formData.logo_path="",this.formData.logo=""},handleSearch:function(){this.pageInfo.currentPage=1,this.getCustomsList()},handleResize:function(){this.searchInfo={name:"",contact:""}},getCustomsList:function(){var t=this;Object(l["a"])(this.ajaxUrl.customsList,{pageSize:this.pageInfo.pageSize,page:this.pageInfo.currentPage,contact:this.searchInfo.contact,name:this.searchInfo.name},"get").then((function(e){t.pageInfo.total=e.total,t.memberList=e.data})).catch((function(t){console.log(t)}))},handleCreate:function(){this.editId=0,this.dialogShow=!0},handleEdit:function(t){this.editId=t.id,this.dialogShow=!0,this.formData.company_name=t.company_name,this.formData.company_addr=t.company_addr,this.formData.logo_path=t.logos&&t.logos.path,this.formData.logo=t.logos&&t.logos.id,this.formData.type=t.type,this.formData.email=t.email,this.formData.address=t.address,this.formData.memo=t.memo,this.formData.contacts=JSON.parse(JSON.stringify(t.contacts))},handleClose:function(t){this.resetForm(),t()},handleCancel:function(){this.resetForm(),this.dialogShow=!1},addContact:function(){this.formData.contacts.push({contact:"",contact_phone:"",job:""})},handleDelContact:function(t){this.formData.contacts.splice(t,1)},handleSubmit:function(){var t=this;this.$refs["warehouseForm"].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a={company_name:t.formData.company_name,company_addr:t.formData.company_addr,logo:t.formData.logo,type:t.formData.type,address:t.formData.address,memo:t.formData.memo,contact:JSON.stringify(t.formData.contacts)};t.editId?Object(l["a"])(t.ajaxUrl.editCustoms+t.editId,p({},a),"put").then((function(e){t.$message.success("客户编辑成功"),t.dialogShow=!1,t.getCustomsList(),t.resetForm()})).catch((function(t){console.log(t)})):Object(l["a"])(t.ajaxUrl.addCustoms,p({},a)).then((function(e){t.$message.success("客户新增成功"),t.dialogShow=!1,t.getCustomsList(),t.resetForm()})).catch((function(t){console.log(t)}))}))},resetForm:function(){this.formData={company_name:"",company_addr:"",logo_path:"",logo:"",type:"",email:"",address:"",memo:"",contacts:[{contact:"",contact_phone:"",job:""}]}},pageChange:function(t){this.pageInfo.currentPage=t,this.getCustomsList()}}},f=d,h=(a("361f"),a("9ca4")),g=Object(h["a"])(f,o,n,!1,null,"3e0ca7d3",null);e["default"]=g.exports}}]);